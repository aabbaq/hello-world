# Vim - 简易VIM操作

### 模式

两种基本mode， 插入（Insertion）以及命令（Command），`Esc`进入命令模式，进入插入模式分为以下几种：

1. **`i`：insert， 光标位置之前插入**
2. `I`：光标所在行之前插入
3. `a`：append，光标之后插入
4. `A`：光标所在行之后插入
5. **`o`：open，光标所在行下方新建一行插入**
6. `O`：光标所在行上方新建一行插入

还有一些 `Ctrl` 相关的命令参阅手册比较好，我根本用不到

另外是**visual mode**，`v` 可以进去，使用方向键可以高亮（范围选取）进行操作

---

### 复制 粘贴 删除

- **`y`：yank，复制，可配合其他选取命令复制（例如 `v` ）**
  - `yw`：复制当前光标所在位置至该单词的最后部分（de**e**pdark则复制过后为epdark）
  - `yy`：复制当前光标所在行，`6yy` 代表连续复制六行
  - `y^`，`y$`：复制当前光标所在处到改行的开始或结尾
- **`p`：put，粘贴，在当前光标后（右侧）粘贴复制的内容**
  - `P`：虽然手册上说是新建一行在光标所在行上方进行粘贴，但是测试过后发现是在光标前（左侧粘贴复制的内容，如果复制的文本有回车换行，符合手册描述新建一行粘贴）
- **`d`：delete，删除（剪切），配合其他选取命令删除或者剪切**
  - `x`：删除当前光标所在字符，vim里删除好像都可以看成剪切（可以直接粘贴）？
  - `dd`：删除光标所在行，`3dd` 代表连续剪切六行
  - `dw`：删除光标所在位置至该单词的最后位置
  - `d^`，`d$`：复制当前光标所在处到改行的开始或结尾

---

### 缩进

- `>>`：光标所在行向右缩进，宽度由**shiftwidth**控制
- `<<`：光标所在行相左缩进，宽度由**shiftwidth**控制

---

### 位置变更

- `h`：左移
- **`j`：下移，可以在第一行使用跳转到制定行数**
- `k`：上移
- `l`：右移
- **`H`**，`M`，**`L`**：**移动到当前页顶部**，中间，**底部**
- **`w`，`W`：移动到下个单词开头，`W` 会包含标点**
- `e`，`E`：移动到下个单词结尾，`E` 会包含标点
- **`b`，`B`：移动到上个单词开头，`B` 会包含标点**
- `0`：移动到行首
- **`^`：移动到行首非空白符**
- **`$`：移动到行尾**
- **`gg`：移动到文件第一行**
- **`G`：移动到文件最后一行**

---

### 搜索和替换

- `/search`：search这里替换需要搜索的词，完成后所有搜索的词会高亮
- `n`，`N`：搜索完成后，寻找下一个或者上一个高亮词
- `$s/search/replace/g`：常用的全局替换，替换所有查找到的词语，`g` 这里代表每行的所有词
- `$s/search/replace/gc`：全局替换，但是增加了确认，需要在替换每个词时人工确认
- `:noh`：完成搜索之后取消掉搜索词语高亮的显示

---

### 其他常用

- `set nu`：显示行号
- `set nonu`：取消显示行号
- `u`：回滚操作
- `:w`：写入更改（保存）
- `:q`：退出vim编辑器
- `:wq`，`:x`：保存并退出编辑器
- `:wq!`：强制保存并退出编辑器

---

### 参考资料

- [Simple VIM Reference](https://simpletutorials.com/c/vim/uldvdk5l/simple-vim-reference#copyamppastewithregisters)
- [Vim Cheat Sheet](https://vim.rtorr.com/)
- [Vim Cheat Sheet 中文版](https://vim.rtorr.com/lang/zh_cn)
